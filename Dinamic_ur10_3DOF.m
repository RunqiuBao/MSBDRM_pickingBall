%This file was atutomatically generated by --Generate_Dinamic--
function Qpp=Dinamic_ur10_3DOF(u)

%Joint Position
q1=u(1);
q2=u(2);
q3=u(3);

%Joint Velocity
qp1=u(4);
qp2=u(5);
qp3=u(6);

%Kinematic Parameters
L1=u(7);
L2=u(8);
L4=u(9);
L6=u(10);
L7=u(11);
L9=u(12);
L3=u(13);
L5=u(14);
L8=u(15);
L10=u(16);

%Dynamic Parameters
m1=u(17);
m2=u(18);
m3=u(19);

I111=u(20);
I112=u(21);
I113=u(22);
I122=u(23);
I123=u(24);
I133=u(25);

I211=u(26);
I212=u(27);
I213=u(28);
I222=u(29);
I223=u(30);
I233=u(31);

I311=u(32);
I312=u(33);
I313=u(34);
I322=u(35);
I323=u(36);
I333=u(37);

%Gravity
g=u(38);
%Time
t=u(39);
%Viscous Friction Matrix
Beta(1,1)=u(40);
Beta(2,2)=u(41);
Beta(3,3)=u(42);
%Gravity Vector
gx=u(43);
gy=u(44);
gz=u(45);

%Joint Position Vector
Q=[q1; q2; q3];

%Joint Velocity Vector
Qp=[qp1; qp2; qp3];

%Complete the Inertia Matrix (symbolic form)
M=[ I133 + I211/2 + I222/2 + I311/2 + I322/2 + (L3^2*m3)/2 + L7^2*m2 + (L8^2*m2)/2 + L9^2*m3 + (L10^2*m3)/2 + L11^2*m3 + (I211*cos(2*q2))/2 - (I222*cos(2*q2))/2 + (I311*cos(2*q2))/2 - (I322*cos(2*q2))/2 - I212*sin(2*q2) + I312*sin(2*q2) + 2*L9*L11*m3 - (L3^2*m3*cos(2*q2))/2 - (L8^2*m2*cos(2*q2))/2 - (L10^2*m3*cos(2*q2 - 2*q3))/2 + L3*L10*m3*cos(q3) - L3*L10*m3*cos(2*q2 - q3), I223*sin(q2) - I213*cos(q2) + I312*sin(q3) + I313*cos(q2)*cos(q3) + I323*cos(q3)*sin(q2) - 2*I312*cos(q2)^2*sin(q3) - L3*L9*m3*cos(q2) - L3*L11*m3*cos(q2) - L7*L8*m2*cos(q2) + I311*cos(q2)*sin(q2)*sin(q3) - I322*cos(q2)*sin(q2)*sin(q3) - L9*L10*m3*cos(q2)*cos(q3) - L10*L11*m3*cos(q2)*cos(q3) - L9*L10*m3*sin(q2)*sin(q3) - L10*L11*m3*sin(q2)*sin(q3),               2*I312*cos(q2)^2*sin(q3) - I313*cos(q2)*cos(q3) - I323*cos(q3)*sin(q2) - I312*sin(q3) - I311*cos(q2)*sin(q2)*sin(q3) + I322*cos(q2)*sin(q2)*sin(q3) + L9*L10*m3*cos(q2)*cos(q3) + L10*L11*m3*cos(q2)*cos(q3) + L9*L10*m3*sin(q2)*sin(q3) + L10*L11*m3*sin(q2)*sin(q3);
                         I223*sin(q2) - I213*cos(q2) + I312*sin(q3) + I313*cos(q2)*cos(q3) + I323*cos(q3)*sin(q2) - 2*I312*cos(q2)^2*sin(q3) - L3*L9*m3*cos(q2) - L3*L11*m3*cos(q2) - L7*L8*m2*cos(q2) + I311*cos(q2)*sin(q2)*sin(q3) - I322*cos(q2)*sin(q2)*sin(q3) - L9*L10*m3*cos(q2)*cos(q3) - L10*L11*m3*cos(q2)*cos(q3) - L9*L10*m3*sin(q2)*sin(q3) - L10*L11*m3*sin(q2)*sin(q3),                                              I233 + I311 + L3^2*m3 + L8^2*m2 + L10^2*m3 - I311*cos(q2)^2 - I311*cos(q3)^2 + I322*cos(q2)^2 + I333*cos(q3)^2 - I312*sin(2*q2) + I311*cos(q2)^2*cos(q3)^2 - I322*cos(q2)^2*cos(q3)^2 - 2*I323*cos(q2)*cos(q3)*sin(q3) + 2*L3*L10*m3*cos(q3) + 2*I313*cos(q3)*sin(q2)*sin(q3) + 2*I312*cos(q2)*cos(q3)^2*sin(q2), I311*cos(q2)^2 - L10^2*m3 - I311 + I311*cos(q3)^2 - I322*cos(q2)^2 - I333*cos(q3)^2 + I312*sin(2*q2) - I311*cos(q2)^2*cos(q3)^2 + I322*cos(q2)^2*cos(q3)^2 + 2*I323*cos(q2)*cos(q3)*sin(q3) - L3*L10*m3*cos(q3) - 2*I313*cos(q3)*sin(q2)*sin(q3) - 2*I312*cos(q2)*cos(q3)^2*sin(q2);
                                                                                                                 2*I312*cos(q2)^2*sin(q3) - I313*cos(q2)*cos(q3) - I323*cos(q3)*sin(q2) - I312*sin(q3) - I311*cos(q2)*sin(q2)*sin(q3) + I322*cos(q2)*sin(q2)*sin(q3) + L9*L10*m3*cos(q2)*cos(q3) + L10*L11*m3*cos(q2)*cos(q3) + L9*L10*m3*sin(q2)*sin(q3) + L10*L11*m3*sin(q2)*sin(q3),                                                                           I311*cos(q2)^2 - L10^2*m3 - I311 + I311*cos(q3)^2 - I322*cos(q2)^2 - I333*cos(q3)^2 + I312*sin(2*q2) - I311*cos(q2)^2*cos(q3)^2 + I322*cos(q2)^2*cos(q3)^2 + 2*I323*cos(q2)*cos(q3)*sin(q3) - L3*L10*m3*cos(q3) - 2*I313*cos(q3)*sin(q2)*sin(q3) - 2*I312*cos(q2)*cos(q3)^2*sin(q2),                     I311 + L10^2*m3 - I311*cos(q2)^2 - I311*cos(q3)^2 + I322*cos(q2)^2 + I333*cos(q3)^2 - I312*sin(2*q2) + I311*cos(q2)^2*cos(q3)^2 - I322*cos(q2)^2*cos(q3)^2 - 2*I323*cos(q2)*cos(q3)*sin(q3) + 2*I313*cos(q3)*sin(q2)*sin(q3) + 2*I312*cos(q2)*cos(q3)^2*sin(q2)];


%Complete Centripetal and Coriolis Matrix (symbolic form)
C=[                                                                                                                                                I312*q2p*cos(2*q2) - I212*q2p*cos(2*q2) - (I211*q2p*sin(2*q2))/2 + (I222*q2p*sin(2*q2))/2 - (I311*q2p*sin(2*q2))/2 + (I322*q2p*sin(2*q2))/2 + (L3^2*m3*q2p*sin(2*q2))/2 + (L8^2*m2*q2p*sin(2*q2))/2 + (L10^2*m3*q2p*sin(2*q2 - 2*q3))/2 - (L10^2*m3*q3p*sin(2*q2 - 2*q3))/2 + L3*L10*m3*q2p*sin(2*q2 - q3) - (L3*L10*m3*q3p*sin(2*q2 - q3))/2 - (L3*L10*m3*q3p*sin(q3))/2,                                        (I312*q3p*cos(2*q2 + q3))/4 - I312*q2p*cos(2*q2 + q3) + (I323*q2p*cos(q2 - q3))/2 - (I323*q3p*cos(q2 - q3))/2 + (I311*q2p*sin(2*q2 + q3))/2 - (I311*q3p*sin(2*q2 + q3))/8 - (I313*q2p*sin(q2 - q3))/2 + (I313*q3p*sin(q2 - q3))/2 - (I322*q2p*sin(2*q2 + q3))/2 + (I322*q3p*sin(2*q2 + q3))/8 - I212*q1p*cos(2*q2) + I312*q1p*cos(2*q2) - (I211*q1p*sin(2*q2))/2 + (I222*q1p*sin(2*q2))/2 - (I311*q1p*sin(2*q2))/2 + (I322*q1p*sin(2*q2))/2 + I312*q2p*cos(2*q2 - q3) - (3*I312*q3p*cos(2*q2 - q3))/4 - (I311*q2p*sin(2*q2 - q3))/2 + (3*I311*q3p*sin(2*q2 - q3))/8 + (I322*q2p*sin(2*q2 - q3))/2 - (3*I322*q3p*sin(2*q2 - q3))/8 + (I323*q2p*cos(q2 + q3))/2 - (I313*q2p*sin(q2 + q3))/2 + I223*q2p*cos(q2) + I213*q2p*sin(q2) + (L3^2*m3*q1p*sin(2*q2))/2 + (L8^2*m2*q1p*sin(2*q2))/2 + (L10^2*m3*q1p*sin(2*q2 - 2*q3))/2 + L3*L10*m3*q1p*sin(2*q2 - q3) + L3*L9*m3*q2p*sin(q2) + L3*L11*m3*q2p*sin(q2) + L7*L8*m2*q2p*sin(q2) + L9*L10*m3*q2p*sin(q2 - q3) - L9*L10*m3*q3p*sin(q2 - q3) + L10*L11*m3*q2p*sin(q2 - q3) - L10*L11*m3*q3p*sin(q2 - q3),                                                                                                                                                                                                                                                                                                                                              (I312*q2p*cos(2*q2 + q3))/4 + (I312*q3p*cos(2*q2 + q3))/2 - (I323*q2p*cos(q2 - q3))/2 + (I323*q3p*cos(q2 - q3))/2 - (I311*q2p*sin(2*q2 + q3))/8 - (I311*q3p*sin(2*q2 + q3))/4 + (I313*q2p*sin(q2 - q3))/2 - (I313*q3p*sin(q2 - q3))/2 + (I322*q2p*sin(2*q2 + q3))/8 + (I322*q3p*sin(2*q2 + q3))/4 - (3*I312*q2p*cos(2*q2 - q3))/4 + (I312*q3p*cos(2*q2 - q3))/2 + (3*I311*q2p*sin(2*q2 - q3))/8 - (I311*q3p*sin(2*q2 - q3))/4 - (3*I322*q2p*sin(2*q2 - q3))/8 + (I322*q3p*sin(2*q2 - q3))/4 - (I323*q3p*cos(q2 + q3))/2 + (I313*q3p*sin(q2 + q3))/2 - (L10^2*m3*q1p*sin(2*q2 - 2*q3))/2 - (L3*L10*m3*q1p*sin(2*q2 - q3))/2 - (L3*L10*m3*q1p*sin(q3))/2 - L9*L10*m3*q2p*sin(q2 - q3) + L9*L10*m3*q3p*sin(q2 - q3) - L10*L11*m3*q2p*sin(q2 - q3) + L10*L11*m3*q3p*sin(q2 - q3);
 (3*I311*q3p*sin(2*q2 + q3))/8 - (3*I312*q3p*cos(2*q2 + q3))/4 - (3*I322*q3p*sin(2*q2 + q3))/8 + I212*q1p*cos(2*q2) - I312*q1p*cos(2*q2) + (I211*q1p*sin(2*q2))/2 - (I222*q1p*sin(2*q2))/2 + (I311*q1p*sin(2*q2))/2 - (I322*q1p*sin(2*q2))/2 + (I312*q3p*cos(2*q2 - q3))/4 - (I311*q3p*sin(2*q2 - q3))/8 + (I322*q3p*sin(2*q2 - q3))/8 + (I323*q3p*cos(q2 + q3))/2 - (I313*q3p*sin(q2 + q3))/2 - (L3^2*m3*q1p*sin(2*q2))/2 - (L8^2*m2*q1p*sin(2*q2))/2 - (L10^2*m3*q1p*sin(2*q2 - 2*q3))/2 - L3*L10*m3*q1p*sin(2*q2 - q3),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  I312*q2p - 2*I312*q2p*cos(q2)^2 - I312*q2p*cos(q3)^2 + (I311*q2p*sin(2*q2))/2 + (I311*q3p*sin(2*q3))/2 - (I322*q2p*sin(2*q2))/2 - (I333*q3p*sin(2*q3))/2 + I323*q3p*cos(q2) - I313*q3p*sin(q2) - 2*I323*q3p*cos(q2)*cos(q3)^2 + 2*I313*q3p*cos(q3)^2*sin(q2) + 2*I312*q2p*cos(q2)^2*cos(q3)^2 - I311*q2p*cos(q2)*cos(q3)^2*sin(q2) - I311*q3p*cos(q2)^2*cos(q3)*sin(q3) + I322*q2p*cos(q2)*cos(q3)^2*sin(q2) + I322*q3p*cos(q2)^2*cos(q3)*sin(q3) + I313*q2p*cos(q2)*cos(q3)*sin(q3) + I323*q2p*cos(q3)*sin(q2)*sin(q3) - L3*L10*m3*q3p*sin(q3) - 2*I312*q3p*cos(q2)*cos(q3)*sin(q2)*sin(q3), (I312*q3p*cos(2*q2))/2 + (I311*q2p*sin(2*q3))/4 - (I311*q3p*sin(2*q2))/4 - (I311*q3p*sin(2*q3))/2 + (I322*q2p*sin(2*q3))/4 + (I322*q3p*sin(2*q2))/4 - (I322*q3p*sin(2*q3))/2 - (I333*q2p*sin(2*q3))/2 + I333*q3p*sin(2*q3) - (I312*q1p*cos(2*q2)*cos(q3))/2 - I323*q2p*cos(2*q3)*cos(q2) + 2*I323*q3p*cos(2*q3)*cos(q2) + (I311*q1p*cos(2*q2)*sin(q3))/2 + (I311*q1p*sin(2*q2)*cos(q3))/4 + I313*q2p*cos(2*q3)*sin(q2) - 2*I313*q3p*cos(2*q3)*sin(q2) - (I313*q3p*sin(2*q3)*cos(q2))/2 - (I322*q1p*cos(2*q2)*sin(q3))/2 - (I322*q1p*sin(2*q2)*cos(q3))/4 + I312*q1p*sin(2*q2)*sin(q3) - (I323*q3p*sin(2*q3)*sin(q2))/2 - (I312*q3p*cos(2*q2)*cos(2*q3))/2 - (I311*q2p*cos(2*q2)*sin(2*q3))/4 + (I311*q3p*cos(2*q2)*sin(2*q3))/2 + (I311*q3p*cos(2*q3)*sin(2*q2))/4 + (I322*q2p*cos(2*q2)*sin(2*q3))/4 - (I322*q3p*cos(2*q2)*sin(2*q3))/2 - (I322*q3p*cos(2*q3)*sin(2*q2))/4 - (I312*q2p*sin(2*q2)*sin(2*q3))/2 + I312*q3p*sin(2*q2)*sin(2*q3) + (I323*q1p*cos(q2)*cos(q3))/2 - (I313*q1p*cos(q2)*sin(q3))/2 - (I313*q1p*cos(q3)*sin(q2))/2 - (I323*q1p*sin(q2)*sin(q3))/2 - L3*L10*m3*q2p*sin(q3) + L3*L10*m3*q3p*sin(q3);
                                                                                                                                                                       (3*I312*q2p*cos(2*q2 + q3))/4 - (3*I311*q2p*sin(2*q2 + q3))/8 + (3*I322*q2p*sin(2*q2 + q3))/8 - (I312*q2p*cos(2*q2 - q3))/4 + (I311*q2p*sin(2*q2 - q3))/8 - (I322*q2p*sin(2*q2 - q3))/8 - (I323*q2p*cos(q2 + q3))/2 + (I313*q2p*sin(q2 + q3))/2 + (L10^2*m3*q1p*sin(2*q2 - 2*q3))/2 + (L3*L10*m3*q1p*sin(2*q2 - q3))/2 + (L3*L10*m3*q1p*sin(q3))/2, I312*q2p*cos(2*q2) - (I312*q3p*cos(2*q2))/2 - (I311*q2p*sin(2*q2))/2 - (I311*q2p*sin(2*q3))/4 + (I311*q3p*sin(2*q2))/4 + (I322*q2p*sin(2*q2))/2 - (I322*q2p*sin(2*q3))/4 - (I322*q3p*sin(2*q2))/4 + (I333*q2p*sin(2*q3))/2 + (I312*q1p*cos(2*q2)*cos(q3))/2 + I323*q2p*cos(2*q3)*cos(q2) - (I311*q1p*cos(2*q2)*sin(q3))/2 - (I311*q1p*sin(2*q2)*cos(q3))/4 - I313*q2p*cos(2*q3)*sin(q2) - I313*q2p*sin(2*q3)*cos(q2) + (I313*q3p*sin(2*q3)*cos(q2))/2 + (I322*q1p*cos(2*q2)*sin(q3))/2 + (I322*q1p*sin(2*q2)*cos(q3))/4 - I312*q1p*sin(2*q2)*sin(q3) - I323*q2p*sin(2*q3)*sin(q2) + (I323*q3p*sin(2*q3)*sin(q2))/2 - I312*q2p*cos(2*q2)*cos(2*q3) + (I312*q3p*cos(2*q2)*cos(2*q3))/2 + (I311*q2p*cos(2*q2)*sin(2*q3))/4 + (I311*q2p*cos(2*q3)*sin(2*q2))/2 - (I311*q3p*cos(2*q3)*sin(2*q2))/4 - (I322*q2p*cos(2*q2)*sin(2*q3))/4 - (I322*q2p*cos(2*q3)*sin(2*q2))/2 + (I322*q3p*cos(2*q3)*sin(2*q2))/4 + (I312*q2p*sin(2*q2)*sin(2*q3))/2 - (I323*q1p*cos(q2)*cos(q3))/2 + (I313*q1p*cos(q2)*sin(q3))/2 + (I313*q1p*cos(q3)*sin(q2))/2 + (I323*q1p*sin(q2)*sin(q3))/2 + L3*L10*m3*q2p*sin(q3),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      I312*q2p - 2*I312*q2p*cos(q2)^2 - I312*q2p*cos(q3)^2 + (I311*q2p*sin(2*q2))/2 + (I311*q3p*sin(2*q3))/2 - (I322*q2p*sin(2*q2))/2 - (I333*q3p*sin(2*q3))/2 + I323*q3p*cos(q2) - I313*q3p*sin(q2) - 2*I323*q3p*cos(q2)*cos(q3)^2 + 2*I313*q3p*cos(q3)^2*sin(q2) + 2*I312*q2p*cos(q2)^2*cos(q3)^2 - I311*q2p*cos(q2)*cos(q3)^2*sin(q2) - I311*q3p*cos(q2)^2*cos(q3)*sin(q3) + I322*q2p*cos(q2)*cos(q3)^2*sin(q2) + I322*q3p*cos(q2)^2*cos(q3)*sin(q3) + I313*q2p*cos(q2)*cos(q3)*sin(q3) + I323*q2p*cos(q3)*sin(q2)*sin(q3) - 2*I312*q3p*cos(q2)*cos(q3)*sin(q2)*sin(q3)];


%Complete Gravitational Torques Vector (symbolic form)
G=[                      0;
 g*sin(q2)*(L3*m3 + L8*m2);
                         0];

Tao=[0; 0; 0];

Qpp=(M)\(Tao-C*Qp-G-Beta*Qp);
